<div class="container mb-4">
  <div class="card">
    <div class="container-fliud">
      <div class="wrapper row">
        <div class="preview col-md-6">
          <div class="preview-pic tab-content">
            <div class="tab-pane active" id="pic-1">
              <img src="{{ imageSrc }}" />
            </div>
            <!-- <div class="tab-pane" id="pic-2"><img src="http://placekitten.com/400/252" /></div>
                      <div class="tab-pane" id="pic-3"><img src="http://placekitten.com/400/252" /></div>
                      <div class="tab-pane" id="pic-4"><img src="http://placekitten.com/400/252" /></div>
                      <div class="tab-pane" id="pic-5"><img src="http://placekitten.com/400/252" /></div> -->
          </div>
          <!-- <ul class="preview-thumbnail nav nav-tabs">
                      <li class="active"><a data-target="#pic-1" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
                      <li><a data-target="#pic-2" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
                      <li><a data-target="#pic-3" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
                      <li><a data-target="#pic-4" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
                      <li><a data-target="#pic-5" data-toggle="tab"><img src="http://placekitten.com/200/126" /></a></li>
                    </ul> -->
        </div>
        <div class="details col-md-6">
          <h3 class="product-title">{{ productDetails.productName }}</h3>
          <div class="rating">
            <div class="stars">
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star"></span>
              <span class="fa fa-star"></span>
            </div>
            <span *ngIf="comments.length >= 1" class="review-no">Bu ürün {{comments.length}} tane yoruma sahip.</span>
            <span *ngIf="comments.length == 0" class="review-no">Henüz bu ürüne ait bir yorum bulunmamaktadır.</span>
          </div>
          <p class="product-description">{{ productDetails.description }}</p>
          <h4 class="price">
            current price:
            <span class="mt-3 mb-3">{{ productDetails.price | currency : "TRY" : "₺" }}</span>
          </h4>
          <div class="action">
            <button
              class="add-to-cart btn btn-default me-2"
              type="button"
              (click)="addToCart(productDetails.productId)"
            >
              add to cart
            </button>
            <button
              class="like btn btn-default"
              type="button"
              (click)="addFavorite(productDetails.productId)"
            >
              <span class="bi bi-heart-fill"></span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="border mb-4"></div>
<div>
  <div class="mb-3">
    <div>
      <label for="exampleFormControlTextarea1" class="form-label"
        >Yorum Yaz</label
      >
    </div>
    <div>
      <textarea cols="170" rows="3" #input></textarea>
    </div>
    <button class="btn btn-success" (click)="addComment(input)">
      Yorum Yap
    </button>
  </div>
</div>
<div class="border mb-4"></div>
<div>
  <h5>Yorumlar</h5>
</div>
<div *ngIf="comments.length >= 1">
  <div class="row mb-3" *ngFor="let comment of comments">
    <div class="col">
      <div class="d-flex flex-start">
        <div class="flex-grow-1 flex-shrink-1">
          <div>
            <div class="d-flex justify-content-between align-items-center">
              <p class="mb-1">
                {{ comment.userFullName }}
                <span class="small"
                  >- {{ comment.sendDate | date : "dd/MM/yyyy HH:mm:ss" }}</span
                >
              </p>
              <div *ngIf="userId == comment.userId">
                <i class="bi bi-trash" (click)="deleteComment(comment.commentId)"></i>
              </div>
            </div>
            <p class="small mb-0">
              {{ comment.commentText }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="comments.length == 0">
  <a>Hadi ilk yorum yapan siz olun!</a>
</div>
